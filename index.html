<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    
    <h1>Shopping Cart</h1>

    <!-- Product Form -->
    <div class="product-form">
        <h2>Product Form</h2>
        <input type="text" id="productName" placeholder="Product Name"> 
        <input type="number" id="productPrice" placeholder="Price">
        <input type="text" id="productImage" placeholder="Image URL">
        <button onclick="createProduct()">Create Product</button>
    </div>

    <!-- Product Dashboard -->
    <div class="product-dashboard">
        <h2>Product Dashboard</h2>
        <div id="productList"></div>
    </div>

    <!-- Cart Section -->
    <div class="cart-section">
        <h2>Product Form</h2>
        <div id="cartList"></div>
        <button onclick="calculateTotal()">Calculate Final Price</button>
        <p class="cart-total">You have to pay: <span id="totalPrice">0</span></p>
    </div>

    <script>
        let products = [];
let cart = [];

function createProduct() {
    const name = document.getElementById('productName').value;
    const price = document.getElementById('productPrice').value;
    const image = document.getElementById('productImage').value;

    const product = {
        name,
        price,
        image
    };

    products.push(product);
    displayProducts();
}

function displayProducts() {
    const productList = document.getElementById('productList');
    productList.innerHTML = '';

    products.forEach((product, index) => {
        const productItem = document.createElement('div');
        productItem.className = 'product-item';
        productItem.innerHTML = `
            <input type="checkbox" id="product-${index}" />
            <img src="${product.image}" alt="${product.name}" />
            <span>${product.name}</span>
            <span>$${product.price}</span>
        `;
        productList.appendChild(productItem);

        // Add to cart logic
        document.getElementById(`product-${index}`).addEventListener('change', function () {
            if (this.checked) {
                addToCart(product);
            } else {
                removeFromCart(product);
            }
        });
    });
}

function addToCart(product) {
    cart.push(product);
    displayCart();
}

function removeFromCart(product) {
    cart = cart.filter(item => item !== product);
    displayCart();
}

function displayCart() {
    const cartList = document.getElementById('cartList');
    cartList.innerHTML = '';

    cart.forEach((product, index) => {
        const cartItem = document.createElement('div');
        cartItem.className = 'cart-item';
        cartItem.innerHTML = `
            <img src="${product.image}" alt="${product.name}" />
            <span>${product.name}</span>
            <span>$${product.price}</span>
            <button onclick="removeFromCart(${index})">Remove</button>
        `;
        cartList.appendChild(cartItem);
    });
}

function calculateTotal() {
    const total = cart.reduce((sum, product) => sum + parseFloat(product.price), 0);
    document.getElementById('totalPrice').innerText = total;
}

</script>

</body>
</html>